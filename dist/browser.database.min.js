(function(e){function t(a){if(r[a])return r[a].exports;var o=r[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,a){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var r=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(r,'a',r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=65)})([function(e){var t=e.exports={version:'2.5.1'};'number'==typeof __e&&(__e=t)},function(e){var t=e.exports='undefined'!=typeof window&&window.Math==Math?window:'undefined'!=typeof self&&self.Math==Math?self:Function('return this')();'number'==typeof __g&&(__g=t)},function(e,t,r){var a=r(32)('wks'),o=r(20),n=r(1).Symbol,l='function'==typeof n,s=e.exports=function(e){return a[e]||(a[e]=l&&n[e]||(l?n:o)('Symbol.'+e))};s.store=a},function(e,t,r){var a=r(1),o=r(0),n=r(14),l=r(7),s='prototype',u=function(e,t,r){var i,d,p,c=e&u.F,y=e&u.G,f=e&u.S,_=e&u.P,m=e&u.B,E=e&u.W,h=y?o:o[t]||(o[t]={}),v=h[s],g=y?a:f?a[t]:(a[t]||{})[s];for(i in y&&(r=t),r)d=!c&&g&&void 0!==g[i],d&&i in h||(p=d?g[i]:r[i],h[i]=y&&'function'!=typeof g[i]?r[i]:m&&d?n(p,a):E&&g[i]==p?function(e){var t=function(t,r,a){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r);}return new e(t,r,a)}return e.apply(this,arguments)};return t[s]=e[s],t}(p):_&&'function'==typeof p?n(Function.call,p):p,_&&((h.virtual||(h.virtual={}))[i]=p,e&u.R&&v&&!v[i]&&l(v,i,p)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t,r){var a=r(8);e.exports=function(e){if(!a(e))throw TypeError(e+' is not an object!');return e}},function(e,t,r){var a=r(4),o=r(43),n=r(28),l=Object.defineProperty;t.f=r(6)?Object.defineProperty:function(e,t,r){if(a(e),t=n(t,!0),a(r),o)try{return l(e,t,r)}catch(t){}if('get'in r||'set'in r)throw TypeError('Accessors not supported!');return'value'in r&&(e[t]=r.value),e}},function(e,t,r){e.exports=!r(10)(function(){return 7!=Object.defineProperty({},'a',{get:function(){return 7}}).a})},function(e,t,r){var a=r(5),o=r(19);e.exports=r(6)?function(e,t,r){return a.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},function(e){e.exports=function(e){return'object'==typeof e?null!==e:'function'==typeof e}},function(e){var t={}.hasOwnProperty;e.exports=function(e,r){return t.call(e,r)}},function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,r){var a=r(45),o=r(29);e.exports=function(e){return a(o(e))}},function(e,t){'use strict';t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}},function(e,t,r){'use strict';t.__esModule=!0;var a=r(72),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(){function e(e,t){for(var r,a=0;a<t.length;a++)r=t[a],r.enumerable=r.enumerable||!1,r.configurable=!0,'value'in r&&(r.writable=!0),(0,o.default)(e,r.key,r)}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}()},function(e,t,r){var a=r(18);e.exports=function(e,t,r){return(a(e),void 0===t)?e:1===r?function(r){return e.call(t,r)}:2===r?function(r,a){return e.call(t,r,a)}:3===r?function(r,a,o){return e.call(t,r,a,o)}:function(){return e.apply(t,arguments)}}},function(e,t,r){var a=r(44),o=r(33);e.exports=Object.keys||function(e){return a(e,o)}},function(e){var t={}.toString;e.exports=function(e){return t.call(e).slice(8,-1)}},function(e){e.exports={}},function(e){e.exports=function(e){if('function'!=typeof e)throw TypeError(e+' is not a function!');return e}},function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e){var t=0,r=Math.random();e.exports=function(e){return'Symbol('.concat(e===void 0?'':e,')_',(++t+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var a=r(29);e.exports=function(e){return Object(a(e))}},function(e){e.exports=!0},function(e,t,r){var a=r(5).f,o=r(9),n=r(2)('toStringTag');e.exports=function(e,t,r){e&&!o(e=r?e:e.prototype,n)&&a(e,n,{configurable:!0,value:t})}},function(e,t,r){e.exports={default:r(91),__esModule:!0}},function(e,t,r){'use strict';t.__esModule=!0;var a=r(66),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=o.default||function(e){for(var t,r=1;r<arguments.length;r++)for(var a in t=arguments[r],t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}},function(e,t,r){var a=r(8),o=r(1).document,n=a(o)&&a(o.createElement);e.exports=function(e){return n?o.createElement(e):{}}},function(e,t,r){var a=r(8);e.exports=function(e,t){if(!a(e))return e;var r,o;if(t&&'function'==typeof(r=e.toString)&&!a(o=r.call(e)))return o;if('function'==typeof(r=e.valueOf)&&!a(o=r.call(e)))return o;if(!t&&'function'==typeof(r=e.toString)&&!a(o=r.call(e)))return o;throw TypeError('Can\'t convert object to primitive value')}},function(e){e.exports=function(e){if(e==void 0)throw TypeError('Can\'t call method on  '+e);return e}},function(e){var t=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:t)(e)}},function(e,t,r){var a=r(32)('keys'),o=r(20);e.exports=function(e){return a[e]||(a[e]=o(e))}},function(e,t,r){var a=r(1),o='__core-js_shared__',n=a[o]||(a[o]={});e.exports=function(e){return n[e]||(n[e]={})}},function(e){e.exports=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf']},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){r(78);for(var a=r(1),o=r(7),n=r(17),l=r(2)('toStringTag'),s='CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList'.split(','),u=0;u<s.length;u++){var i=s[u],d=a[i],p=d&&d.prototype;p&&!p[l]&&o(p,l,i),n[i]=n.Array}},function(e,t,r){var a=r(4),o=r(82),n=r(33),l=r(31)('IE_PROTO'),s=function(){},u='prototype',d=function(){var e,t=r(27)('iframe'),a=n.length,o='<',l='>';for(t.style.display='none',r(49).appendChild(t),t.src='javascript:',e=t.contentWindow.document,e.open(),e.write(o+'script'+l+'document.F=Object'+o+'/script'+l),e.close(),d=e.F;a--;)delete d[u][n[a]];return d()};e.exports=Object.create||function(e,t){var r;return null===e?r=d():(s[u]=a(e),r=new s,s[u]=null,r[l]=e),void 0===t?r:o(r,t)}},function(e,t,r){'use strict';var a=r(83)(!0);r(47)(String,'String',function(e){this._t=e+'',this._i=0},function(){var e,t=this._t,r=this._i;return r>=t.length?{value:void 0,done:!0}:(e=a(t,r),this._i+=e.length,{value:e,done:!1})})},function(e,t,r){e.exports={default:r(88),__esModule:!0}},function(e,t,r){'use strict';function a(e){var t,r;this.promise=new e(function(e,a){if(t!=void 0||r!=void 0)throw TypeError('Bad Promise constructor');t=e,r=a}),this.resolve=o(t),this.reject=o(r)}var o=r(18);e.exports.f=function(e){return new a(e)}},function(e,t,r){t.f=r(2)},function(e,t,r){var a=r(1),o=r(0),n=r(23),l=r(40),s=r(5).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=n?{}:a.Symbol||{});'_'==e.charAt(0)||e in t||s(t,e,{value:l.f(e)})}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var o=r(25),n=a(o),l=r(12),s=a(l),u=r(13),i=a(u),d=function(){function e(){0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,s.default)(this,e)}return(0,i.default)(e,[{key:'queryConst',value:function(){return{ASC:'',DESK:'',TYPE_INT:'',TYPE_INTEGER:'',TYPE_TINYINT:'',TYPE_SMALLINT:'',TYPE_MEDIUMINT:'',TYPE_BIGINT:'',TYPE_TEXT:'',TYPE_CHAR:'',TYPE_VARCHAR:'',TYPE_CHARACTER:'',TYPE_REAL:'',TYPE_DOUBLE_FLOAT:'',TYPE_DOUBLE:'',TYPE_DOUBLE_PRECISION:'',TYPE_DATETIME:'',TYPE_DATE:'',TYPE_BOOLEAN:'',TYPE_NUMERIC:'',TYPE_DECIMAL:''}}},{key:'isOpen',value:function(){return!1}},{key:'drop',value:function(){return new n.default(function(e){return e(null)})}},{key:'init',value:function(){0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return new n.default(function(e){return e(null)})}},{key:'insert',value:function(){return new n.default(function(e){return e(null)})}},{key:'isEmpty',value:function(){return new n.default(function(e){return e(null)})}},{key:'getAll',value:function(){return new n.default(function(e){return e(null)})}},{key:'getByPk',value:function(){return new n.default(function(e){return e(null)})}},{key:'getByRequire',value:function(){return new n.default(function(e){return e(null)})}},{key:'upInsert',value:function(){return new n.default(function(e){return e(null)})}},{key:'updateByPk',value:function(){return new n.default(function(e){return e(null)})}},{key:'removeAll',value:function(){return new n.default(function(e){return e(null)})}},{key:'removeByPk',value:function(){return new n.default(function(e){return e(null)})}},{key:'close',value:function(){}}]),e}();t.default=d},function(e,t,r){e.exports=!r(6)&&!r(10)(function(){return 7!=Object.defineProperty(r(27)('div'),'a',{get:function(){return 7}}).a})},function(e,t,r){var a=r(9),o=r(11),n=r(70)(!1),l=r(31)('IE_PROTO');e.exports=function(e,t){var r,s=o(e),u=0,i=[];for(r in s)r!=l&&a(s,r)&&i.push(r);for(;t.length>u;)a(s,r=t[u++])&&(~n(i,r)||i.push(r));return i}},function(e,t,r){var a=r(16);e.exports=Object('z').propertyIsEnumerable(0)?Object:function(e){return'String'==a(e)?e.split(''):Object(e)}},function(e,t,r){var a=r(30),o=Math.min;e.exports=function(e){return 0<e?o(a(e),9007199254740991):0}},function(e,t,r){'use strict';var a=r(23),o=r(3),n=r(48),l=r(7),s=r(9),u=r(17),i=r(81),d=r(24),p=r(50),c=r(2)('iterator'),y=!([].keys&&'next'in[].keys()),f='keys',_='values',m=function(){return this};e.exports=function(e,t,r,E,h,v,g){i(r,t,E);var T,b,x,k=function(e){return!y&&e in I?I[e]:e===f?function(){return new r(this,e)}:e===_?function(){return new r(this,e)}:function(){return new r(this,e)}},P=t+' Iterator',S=h==_,O=!1,I=e.prototype,R=I[c]||I['@@iterator']||h&&I[h],A=R||k(h),L=h?S?k('entries'):A:void 0,M='Array'==t?I.entries||R:R;if(M&&(x=p(M.call(new e)),x!==Object.prototype&&x.next&&(d(x,P,!0),!a&&!s(x,c)&&l(x,c,m))),S&&R&&R.name!==_&&(O=!0,A=function(){return R.call(this)}),(!a||g)&&(y||O||!I[c])&&l(I,c,A),u[t]=A,u[P]=m,h)if(T={values:S?A:k(_),keys:v?A:k(f),entries:L},g)for(b in T)b in I||n(I,b,T[b]);else o(o.P+o.F*(y||O),t,T);return T}},function(e,t,r){e.exports=r(7)},function(e,t,r){var a=r(1).document;e.exports=a&&a.documentElement},function(e,t,r){var a=r(9),o=r(22),n=r(31)('IE_PROTO'),l=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=o(e),a(e,n)?e[n]:'function'==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?l:null}},function(e,t,r){var a=r(52),o=r(2)('iterator'),n=r(17);e.exports=r(0).getIteratorMethod=function(e){if(e!=void 0)return e[o]||e['@@iterator']||n[a(e)]}},function(e,t,r){var a=r(16),o=r(2)('toStringTag'),n='Arguments'==a(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(t){}};e.exports=function(e){var t,r,s;return e===void 0?'Undefined':null===e?'Null':'string'==typeof(r=l(t=Object(e),o))?r:n?a(t):'Object'==(s=a(t))&&'function'==typeof t.callee?'Arguments':s}},function(e,t,r){var a=r(3),o=r(0),n=r(10);e.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],l={};l[e]=t(r),a(a.S+a.F*n(function(){r(1)}),'Object',l)}},function(){},function(e,t,r){var a=r(4),o=r(18),n=r(2)('species');e.exports=function(e,t){var r,l=a(e).constructor;return l===void 0||(r=a(l)[n])==void 0?t:o(r)}},function(e,t,r){var a,o,n,l=r(14),s=r(97),u=r(49),i=r(27),d=r(1),p=d.process,c=d.setImmediate,y=d.clearImmediate,f=d.MessageChannel,_=d.Dispatch,m=0,E={},h='onreadystatechange',v=function(){var e=+this;if(E.hasOwnProperty(e)){var t=E[e];delete E[e],t()}},g=function(e){v.call(e.data)};c&&y||(c=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return E[++m]=function(){s('function'==typeof e?e:Function(e),t)},a(m),m},y=function(e){delete E[e]},'process'==r(16)(p)?a=function(e){p.nextTick(l(v,e,1))}:_&&_.now?a=function(e){_.now(l(v,e,1))}:f?(o=new f,n=o.port2,o.port1.onmessage=g,a=l(n.postMessage,n,1)):d.addEventListener&&'function'==typeof postMessage&&!d.importScripts?(a=function(e){d.postMessage(e+'','*')},d.addEventListener('message',g,!1)):h in i('script')?a=function(e){u.appendChild(i('script'))[h]=function(){u.removeChild(this),v.call(e)}}:a=function(e){setTimeout(l(v,e,1),0)}),e.exports={set:c,clear:y}},function(e){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},function(e,t,r){var a=r(4),o=r(8),n=r(39);e.exports=function(e,t){if(a(e),o(t)&&t.constructor===e)return t;var r=n.f(e),l=r.resolve;return l(t),r.promise}},function(e,t,r){e.exports={default:r(104),__esModule:!0}},function(e,t,r){'use strict';t.__esModule=!0;var a=r(61),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'===('undefined'==typeof t?'undefined':(0,o.default)(t))||'function'==typeof t)?t:e}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(106),n=a(o),l=r(108),s=a(l),u='function'==typeof s.default&&'symbol'==typeof n.default?function(e){return typeof e}:function(e){return e&&'function'==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?'symbol':typeof e};t.default='function'==typeof s.default&&'symbol'===u(n.default)?function(e){return'undefined'==typeof e?'undefined':u(e)}:function(e){return e&&'function'==typeof s.default&&e.constructor===s.default&&e!==s.default.prototype?'symbol':'undefined'==typeof e?'undefined':u(e)}},function(e,t,r){var a=r(44),o=r(33).concat('length','prototype');t.f=Object.getOwnPropertyNames||function(e){return a(e,o)}},function(e,t,r){var a=r(21),o=r(19),n=r(11),l=r(28),s=r(9),u=r(43),i=Object.getOwnPropertyDescriptor;t.f=r(6)?i:function(e,t){if(e=n(e),t=l(t,!0),u)try{return i(e,t)}catch(t){}return s(e,t)?o(!a.f.call(e,t),e[t]):void 0}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var o=r(117),n=a(o),l=r(121),s=a(l),u=r(61),i=a(u);t.default=function(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+('undefined'==typeof t?'undefined':(0,i.default)(t)));e.prototype=(0,s.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}var o=r(26),n=a(o),l=r(12),s=a(l),u=r(13),i=a(u),d=r(75),p=a(d),c=r(125),y=a(c),f=r(42),_=a(f),m=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1];(0,s.default)(this,e);var a=this,o=e.driverConst();if(r===o.WebSQL?a._driver=new p.default(t):r===o.IndexedDb?a._driver=new y.default(t):(window.indexedDB||(window.indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB,window.IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction||window.msIDBTransaction,window.IDBKeyRange=window.IDBKeyRange||window.webkitIDBKeyRange||window.msIDBKeyRange),a._driver=window.indexedDB?new y.default(t):new p.default(t)),!(a._driver instanceof _.default))throw new Error('Bad database driver')}return(0,i.default)(e,[{key:'queryConst',value:function(){return this._driver.queryConst()}},{key:'isOpen',value:function(){this._driver.isOpen()}},{key:'drop',value:function(){this._driver.drop()}},{key:'init',value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return this._driver.init(e)}},{key:'insert',value:function(e,t,r){return this._driver.insert(e,t,r)}},{key:'isEmpty',value:function(){return this._driver.isEmpty()}},{key:'getAll',value:function(e){return this._driver.getAll(e)}},{key:'getByPk',value:function(e,t){return this._driver.getByPk(e,t)}},{key:'getByRequire',value:function(e,t,r){return this._driver.getByRequire(e,t,r)}},{key:'upInsert',value:function(e,t){return this._driver.upInsert(e,t)}},{key:'updateByPk',value:function(e,t,r){return this._driver.updateByPk(e,t,r)}},{key:'removeAll',value:function(e){return this._driver.removeAll(e)}},{key:'removeByPk',value:function(e,t){return this._driver.removeByPk(e,t)}},{key:'close',value:function(){this._driver.close()}}],[{key:'driverConst',value:function(){return(0,n.default)({WebSQL:1,IndexedDb:2})}}]),e}();window.BrowerDataBaseClass=m},function(e,t,r){e.exports={default:r(67),__esModule:!0}},function(e,t,r){r(68),e.exports=r(0).Object.assign},function(e,t,r){var a=r(3);a(a.S+a.F,'Object',{assign:r(69)})},function(e,t,r){'use strict';var a=r(15),o=r(34),n=r(21),l=r(22),s=r(45),u=Object.assign;e.exports=!u||r(10)(function(){var e={},t={},r=Symbol(),a='abcdefghijklmnopqrst';return e[r]=7,a.split('').forEach(function(e){t[e]=e}),7!=u({},e)[r]||Object.keys(u({},t)).join('')!=a})?function(e){for(var t=l(e),r=arguments.length,u=1,i=o.f,d=n.f;r>u;)for(var p,c=s(arguments[u++]),y=i?a(c).concat(i(c)):a(c),f=y.length,_=0;f>_;)d.call(c,p=y[_++])&&(t[p]=c[p]);return t}:u},function(e,t,r){var a=r(11),o=r(46),n=r(71);e.exports=function(e){return function(t,r,l){var s,u=a(t),i=o(u.length),d=n(l,i);if(e&&r!=r){for(;i>d;)if(s=u[d++],s!=s)return!0;}else for(;i>d;d++)if((e||d in u)&&u[d]===r)return e||d||0;return!e&&-1}}},function(e,t,r){var a=r(30),o=Math.max,n=Math.min;e.exports=function(e,t){return e=a(e),0>e?o(e+t,0):n(e,t)}},function(e,t,r){e.exports={default:r(73),__esModule:!0}},function(e,t,r){r(74);var a=r(0).Object;e.exports=function(e,t,r){return a.defineProperty(e,t,r)}},function(e,t,r){var a=r(3);a(a.S+a.F*!r(6),'Object',{defineProperty:r(5).f})},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var o=r(76),n=a(o),l=r(85),s=a(l),u=r(38),i=a(u),d=r(90),p=a(d),c=r(25),y=a(c),f=r(26),_=a(f),m=r(59),E=a(m),h=r(12),v=a(h),g=r(13),T=a(g),b=r(60),x=a(b),k=r(64),P=a(k),S=r(124),O=a(S),I=r(42),R=a(I),A=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,v.default)(this,t);var r=(0,x.default)(this,(t.__proto__||(0,E.default)(t)).call(this,e)),a=r;return a._db=null,a._query=new O.default,a._tx=null,a._pks={},a._tablesStruct={},a._dbParams=(0,_.default)({name:'web_db',version:1,nameDisplay:'Database in browser',prevSize:2e5},e),r}return(0,P.default)(t,e),(0,T.default)(t,[{key:'queryConst',value:function(){return this._query.constant()}},{key:'isOpen',value:function(){return null!==this._db}},{key:'init',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=this;return new y.default(function(a,o){return r._collectPkFieldsAndTablesStruct(t),r._db=openDatabase(r._dbParams.name,'0.0.'+r._dbParams.version,r._dbParams.nameDisplay,r._dbParams.prevSizes),r._db?void r._db.transaction(function(n){r._tx=n,r.isEmpty().then(function(n){if(!n)return a(r);var l=function(){var n=(0,p.default)(s.default.mark(function n(){return s.default.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:try{(0,i.default)(t).forEach(function(){var a=(0,p.default)(s.default.mark(function a(o){return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._createTable(o,t[o]);case 2:case'end':return e.stop();}},a,e)}));return function(){return a.apply(this,arguments)}}())}catch(t){o(t)}a();case 2:case'end':return n.stop();}},n,e)}));return function(){return n.apply(this,arguments)}}();l()}).catch(o)}):o('Database not create')})}},{key:'insert',value:function(e,t,r){var a=this;return new y.default(function(o,n){return r.length?void a._tx.executeSql('INSERT INTO "'+e+'" ('+t.join(',')+') VALUES '+a._query.insertValues(r,t),[],function(e,t){return o(t)},function(e,t){return n(t)}):o()})}},{key:'getByPk',value:function(e,t){var r=this;return new y.default(function(a,o){var n=r._pks[e];return n?void r._select(e,'*',n+' = '+r._query.escapeFieldValue(t),1).then(function(e){return a(e.length?e[0]:null)},o):o('Table "'+e+'" not have primary key.')})}},{key:'getByRequire',value:function(e,t,r){var a=this;return new y.default(function(o,n){a._select(e,'*',t+' = '+a._query.escapeFieldValue(r),1).then(function(e){return o(e.length?e[0]:null)},n)})}},{key:'getAll',value:function(e){var t=this;return new y.default(function(r,a){t._select(e,'*').then(r,a)})}},{key:'isEmpty',value:function(){var e=this;return new y.default(function(t,r){e._select('sqlite_master','*','type="table" AND name NOT IN ("__WebKitDatabaseInfoTable__", "sqlite_sequence")',1).then(function(e){return t(!!!e.length)}).catch(function(e){return r(e)})})}},{key:'updateByPk',value:function(e,t,r){var a=this;return new y.default(function(o,n){var l=a._pks[e];return l?void a._update(e,r,l+' = '+a._query.escapeFieldValue(t)).then(o,n):n('Table "'+e+'" not have primary key.')})}},{key:'upInsert',value:function(e,t){var r=this;return new y.default(function(a,o){var l=r._pks[e];return l?void r.getByPk(e,t[l]).then(function(a){var o=r._tablesStruct[e];if(null!==a){var s,u=!0,i=!1;try{for(var d,p,c=(0,n.default)(o);!(u=(d=c.next()).done);u=!0)p=d.value,t[p]=t[p]||null}catch(e){i=!0,s=e}finally{try{!u&&c.return&&c.return()}finally{if(i)throw s}}return r.updateByPk(e,t[l],t)}var y,f=[],_=!0,m=!1;try{for(var E,h,v=(0,n.default)(o);!(_=(E=v.next()).done);_=!0)h=E.value,f.push(t[h]||null)}catch(e){m=!0,y=e}finally{try{!_&&v.return&&v.return()}finally{if(m)throw y}}return r.insert(e,o,f)}).then(a).catch(o):o('Table "'+e+'" not have primary key.')})}},{key:'removeByPk',value:function(e,t){var r=this;return new y.default(function(a,o){var n=r._pks[e];return n?void r._remove(e,n+' = '+r._query.escapeFieldValue(t)).then(a,o):o('Table "'+e+'" not have primary key.')})}},{key:'removeAll',value:function(e){var t=this;return new y.default(function(r,a){t._remove(e).then(r,a)})}},{key:'drop',value:function(){var e=this,t=this;return new y.default(function(r,a){var o;o=openDatabase(t._dbParams.name,'0.0.'+t._dbParams.version,t._dbParams.nameDisplay,t._dbParams.prevSizes),o.transaction(function(o){o.executeSql(t._query.select('sqlite_master','*','type="table" AND name NOT IN ("__WebKitDatabaseInfoTable__", "sqlite_sequence")'),[],function(n,l){if(!l.rows||!l.rows.length)return r();var u=function(){var n=(0,p.default)(s.default.mark(function n(){var u,i;return s.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,u=0;case 2:if(!(u<l.rows.length)){e.next=11;break}if(i=l.rows.item(u),'table'===i.type){e.next=6;break}return e.abrupt('continue',8);case 6:return e.next=8,t._dropSafe(i.name,o);case 8:++u,e.next=2;break;case 11:r(),e.next=18;break;case 14:e.prev=14,e.t0=e['catch'](0),console.log('Err',e.t0),a(e.t0);case 18:case'end':return e.stop();}},n,e,[[0,14]])}));return function(){return n.apply(this,arguments)}}();u()},function(e,t){return a(t)})})})}},{key:'_select',value:function(e,t,r,a,o){var n=this;return new y.default(function(l,s){n._tx.executeSql(n._query.select(e,t,r,a,o),[],function(e,t){var r=[];if(!t.rows)return[];for(var a=t.rows,o=0;o<a.length;++o)r.push(a.item(o));l(r)},function(e,t){return s(t)})})}},{key:'_createTable',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this;return new y.default(function(a,o){r._tx.executeSql(r._query.createTable(e,t),[],function(e,t){return a(t)},function(e,t){return o(t)})})}},{key:'_dropSafe',value:function(e,t){return t=t||this._tx,new y.default(function(r,a){t.executeSql('DROP TABLE IF EXISTS "'+e+'"',[],function(){return r()},function(e,t){return a(t)})})}},{key:'_collectPkFieldsAndTablesStruct',value:function(e){var t=this;for(var r in e)for(var a in t._tablesStruct[r]=[],e[r])t._tablesStruct[r].push(a),e[r][a].pk&&(t._pks[r]=a)}},{key:'_update',value:function(e,t,r){var a=this,o=(0,i.default)(t).map(function(e){return e+' = '+a._query.escapeFieldValue(t[e])}).join(',');return o='UPDATE '+e+' SET '+o,r&&(o+=' WHERE '+r),new y.default(function(e,t){a._tx.executeSql(o,[],function(t,r){return e(r)},function(e,r){return t(r)})})}},{key:'_remove',value:function(e,t){var r=this,a='DELETE FROM '+e;return t&&(a+=' WHERE '+t),new y.default(function(e,t){r._tx.executeSql(a,[],function(t,r){return e(r)},function(e,r){return t(r)})})}}]),t}(R.default);t.default=A},function(e,t,r){e.exports={default:r(77),__esModule:!0}},function(e,t,r){r(35),r(37),e.exports=r(84)},function(e,t,r){'use strict';var a=r(79),o=r(80),n=r(17),l=r(11);e.exports=r(47)(Array,'Array',function(e,t){this._t=l(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,o(1)):'keys'==t?o(0,r):'values'==t?o(0,e[r]):o(0,[r,e[r]])},'values'),n.Arguments=n.Array,a('keys'),a('values'),a('entries')},function(e){e.exports=function(){}},function(e){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){'use strict';var a=r(36),o=r(19),n=r(24),l={};r(7)(l,r(2)('iterator'),function(){return this}),e.exports=function(e,t,r){e.prototype=a(l,{next:o(1,r)}),n(e,t+' Iterator')}},function(e,t,r){var a=r(5),o=r(4),n=r(15);e.exports=r(6)?Object.defineProperties:function(e,t){o(e);for(var r,l=n(t),s=l.length,u=0;s>u;)a.f(e,r=l[u++],t[r]);return e}},function(e,t,r){var o=r(30),n=r(29);e.exports=function(e){return function(t,r){var u,a,d=n(t)+'',s=o(r),i=d.length;return 0>s||s>=i?e?'':void 0:(u=d.charCodeAt(s),55296>u||56319<u||s+1===i||56320>(a=d.charCodeAt(s+1))||57343<a?e?d.charAt(s):u:e?d.slice(s,s+2):(u-55296<<10)+(a-56320)+65536)}}},function(e,t,r){var a=r(4),o=r(51);e.exports=r(0).getIterator=function(e){var t=o(e);if('function'!=typeof t)throw TypeError(e+' is not iterable!');return a(t.call(e))}},function(e,t,r){e.exports=r(86)},function(e,t,r){var a=function(){return this}()||Function('return this')(),o=a.regeneratorRuntime&&0<=Object.getOwnPropertyNames(a).indexOf('regeneratorRuntime'),n=o&&a.regeneratorRuntime;if(a.regeneratorRuntime=void 0,e.exports=r(87),o)a.regeneratorRuntime=n;else try{delete a.regeneratorRuntime}catch(t){a.regeneratorRuntime=void 0}},function(e){!function(t){'use strict';function r(e,t,r,a){var n=t&&t.prototype instanceof o?t:o,l=Object.create(n.prototype),s=new y(a||[]);return l._invoke=i(e,r,s),l}function a(e,t,r){try{return{type:'normal',arg:e.call(t,r)}}catch(e){return{type:'throw',arg:e}}}function o(){}function n(){}function l(){}function s(e){['next','throw','return'].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function u(e){function t(r,o,n,l){var s=a(e[r],e,o);if('throw'===s.type)l(s.arg);else{var u=s.arg,i=u.value;return i&&'object'==typeof i&&E.call(i,'__await')?Promise.resolve(i.__await).then(function(e){t('next',e,n,l)},function(e){t('throw',e,n,l)}):Promise.resolve(i).then(function(e){u.value=e,n(u)},l)}}var r;this._invoke=function(e,a){function o(){return new Promise(function(r,o){t(e,a,r,o)})}return r=r?r.then(o,o):o()}}function i(e,t,r){var o=k;return function(n,l){if(o==S)throw new Error('Generator is already running');if(o==O){if('throw'===n)throw l;return _()}for(r.method=n,r.arg=l;;){var s=r.delegate;if(s){var u=d(s,r);if(u){if(u===I)continue;return u}}if('next'===r.method)r.sent=r._sent=r.arg;else if('throw'===r.method){if(o==k)throw o=O,r.arg;r.dispatchException(r.arg)}else'return'===r.method&&r.abrupt('return',r.arg);o=S;var i=a(e,t,r);if('normal'===i.type){if(o=r.done?O:P,i.arg===I)continue;return{value:i.arg,done:r.done}}'throw'===i.type&&(o=O,r.method='throw',r.arg=i.arg)}}}function d(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,'throw'===t.method){if(e.iterator.return&&(t.method='return',t.arg=void 0,d(e,t),'throw'===t.method))return I;t.method='throw',t.arg=new TypeError('The iterator does not provide a \'throw\' method')}return I}var o=a(r,e.iterator,t.arg);if('throw'===o.type)return t.method='throw',t.arg=o.arg,t.delegate=null,I;var n=o.arg;if(!n)return t.method='throw',t.arg=new TypeError('iterator result is not an object'),t.delegate=null,I;if(n.done)t[e.resultName]=n.value,t.next=e.nextLoc,'return'!==t.method&&(t.method='next',t.arg=void 0);else return n;return t.delegate=null,I}function p(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function c(e){var t=e.completion||{};t.type='normal',delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:'root'}],e.forEach(p,this),this.reset(!0)}function f(e){if(e){var t=e[v];if(t)return t.call(e);if('function'==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(E.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:_}}function _(){return{value:void 0,done:!0}}var m=Object.prototype,E=m.hasOwnProperty,h='function'==typeof Symbol?Symbol:{},v=h.iterator||'@@iterator',g=h.asyncIterator||'@@asyncIterator',T=h.toStringTag||'@@toStringTag',b='object'==typeof e,x=t.regeneratorRuntime;if(x)return void(b&&(e.exports=x));x=t.regeneratorRuntime=b?e.exports:{},x.wrap=r;var k='suspendedStart',P='suspendedYield',S='executing',O='completed',I={},R={};R[v]=function(){return this};var A=Object.getPrototypeOf,L=A&&A(A(f([])));L&&L!==m&&E.call(L,v)&&(R=L);var M=l.prototype=o.prototype=Object.create(R);n.prototype=M.constructor=l,l.constructor=n,l[T]=n.displayName='GeneratorFunction',x.isGeneratorFunction=function(e){var t='function'==typeof e&&e.constructor;return!!t&&(t===n||'GeneratorFunction'===(t.displayName||t.name))},x.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,!(T in e)&&(e[T]='GeneratorFunction')),e.prototype=Object.create(M),e},x.awrap=function(e){return{__await:e}},s(u.prototype),u.prototype[g]=function(){return this},x.AsyncIterator=u,x.async=function(e,t,a,o){var n=new u(r(e,t,a,o));return x.isGeneratorFunction(t)?n:n.next().then(function(e){return e.done?e.value:n.next()})},s(M),M[T]='Generator',M[v]=function(){return this},M.toString=function(){return'[object Generator]'},x.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var a=t.pop();if(a in e)return r.value=a,r.done=!1,r}return r.done=!0,r}},x.values=f,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method='next',this.arg=void 0,this.tryEntries.forEach(c),!e)for(var t in this)'t'===t.charAt(0)&&E.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if('throw'===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,a){return n.type='throw',n.arg=e,r.next=t,a&&(r.method='next',r.arg=void 0),!!a}if(this.done)throw e;for(var r=this,a=this.tryEntries.length-1;0<=a;--a){var o=this.tryEntries[a],n=o.completion;if('root'===o.tryLoc)return t('end');if(o.tryLoc<=this.prev){var l=E.call(o,'catchLoc'),s=E.call(o,'finallyLoc');if(l&&s){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);if(this.prev<o.finallyLoc)return t(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return t(o.catchLoc,!0);}else if(!s)throw new Error('try statement without catch or finally');else if(this.prev<o.finallyLoc)return t(o.finallyLoc)}}},abrupt:function(e,t){for(var r,a=this.tryEntries.length-1;0<=a;--a)if(r=this.tryEntries[a],r.tryLoc<=this.prev&&E.call(r,'finallyLoc')&&this.prev<r.finallyLoc){var o=r;break}o&&('break'===e||'continue'===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var n=o?o.completion:{};return n.type=e,n.arg=t,o?(this.method='next',this.next=o.finallyLoc,I):this.complete(n)},complete:function(e,t){if('throw'===e.type)throw e.arg;return'break'===e.type||'continue'===e.type?this.next=e.arg:'return'===e.type?(this.rval=this.arg=e.arg,this.method='return',this.next='end'):'normal'===e.type&&t&&(this.next=t),I},finish:function(e){for(var t,r=this.tryEntries.length-1;0<=r;--r)if(t=this.tryEntries[r],t.finallyLoc===e)return this.complete(t.completion,t.afterLoc),c(t),I},catch:function(e){for(var t,r=this.tryEntries.length-1;0<=r;--r)if(t=this.tryEntries[r],t.tryLoc===e){var a=t.completion;if('throw'===a.type){var o=a.arg;c(t)}return o}throw new Error('illegal catch attempt')},delegateYield:function(e,t,r){return this.delegate={iterator:f(e),resultName:t,nextLoc:r},'next'===this.method&&(this.arg=void 0),I}}}(function(){return this}()||Function('return this')())},function(e,t,r){r(89),e.exports=r(0).Object.keys},function(e,t,r){var a=r(22),o=r(15);r(53)('keys',function(){return function(e){return o(a(e))}})},function(e,t,r){'use strict';t.__esModule=!0;var a=r(25),o=function(e){return e&&e.__esModule?e:{default:e}}(a);t.default=function(e){return function(){var t=e.apply(this,arguments);return new o.default(function(e,r){function a(n,l){try{var s=t[n](l),u=s.value}catch(e){return void r(e)}return s.done?void e(u):o.default.resolve(u).then(function(e){a('next',e)},function(e){a('throw',e)})}return a('next')})}}},function(e,t,r){r(54),r(37),r(35),r(92),r(102),r(103),e.exports=r(0).Promise},function(e,t,r){'use strict';var a,o,n,l,s=r(23),u=r(1),i=r(14),d=r(52),p=r(3),c=r(8),y=r(18),f=r(93),_=r(94),m=r(55),E=r(56).set,h=r(98)(),v=r(39),g=r(57),T=r(58),b='Promise',x=u.TypeError,k=u.process,P=u[b],S='process'==d(k),O=function(){},I=o=v.f,R=!!function(){try{var e=P.resolve(1),t=(e.constructor={})[r(2)('species')]=function(e){e(O,O)};return(S||'function'==typeof PromiseRejectionEvent)&&e.then(O)instanceof t}catch(t){}}(),A=function(e){var t;return c(e)&&'function'==typeof(t=e.then)&&t},L=function(e,t){if(!e._n){e._n=!0;var r=e._c;h(function(){for(var a=e._v,o=1==e._s,n=0,l=function(t){var r,n,l=o?t.ok:t.fail,s=t.resolve,u=t.reject,i=t.domain;try{l?(!o&&(2==e._h&&N(e),e._h=1),!0===l?r=a:(i&&i.enter(),r=l(a),i&&i.exit()),r===t.promise?u(x('Promise-chain cycle')):(n=A(r))?n.call(r,s,u):s(r)):u(a)}catch(t){u(t)}};r.length>n;)l(r[n++]);e._c=[],e._n=!1,t&&!e._h&&M(e)})}},M=function(e){E.call(u,function(){var t,r,a,o=e._v,n=D(e);if(n&&(t=g(function(){S?k.emit('unhandledRejection',o,e):(r=u.onunhandledrejection)?r({promise:e,reason:o}):(a=u.console)&&a.error&&a.error('Unhandled promise rejection',o)}),e._h=S||D(e)?2:1),e._a=void 0,n&&t.e)throw t.v})},D=function(e){if(1==e._h)return!1;for(var t,r=e._a||e._c,a=0;r.length>a;)if(t=r[a++],t.fail||!D(t.promise))return!1;return!0},N=function(e){E.call(u,function(){var t;S?k.emit('rejectionHandled',e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})})},w=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,!t._a&&(t._a=t._c.slice()),L(t,!0))},Y=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw x('Promise can\'t be resolved itself');(t=A(e))?h(function(){var a={_w:r,_d:!1};try{t.call(e,i(Y,a,1),i(w,a,1))}catch(t){w.call(a,t)}}):(r._v=e,r._s=1,L(r,!1))}catch(t){w.call({_w:r,_d:!1},t)}}};R||(P=function(e){f(this,P,b,'_h'),y(e),a.call(this);try{e(i(Y,this,1),i(w,this,1))}catch(e){w.call(this,e)}},a=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},a.prototype=r(99)(P.prototype,{then:function(e,t){var r=I(m(this,P));return r.ok='function'!=typeof e||e,r.fail='function'==typeof t&&t,r.domain=S?k.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&L(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),n=function(){var e=new a;this.promise=e,this.resolve=i(Y,e,1),this.reject=i(w,e,1)},v.f=I=function(e){return e===P||e===l?new n(e):o(e)}),p(p.G+p.W+p.F*!R,{Promise:P}),r(24)(P,b),r(100)(b),l=r(0)[b],p(p.S+p.F*!R,b,{reject:function(e){var t=I(this),r=t.reject;return r(e),t.promise}}),p(p.S+p.F*(s||!R),b,{resolve:function(e){return T(s&&this===l?P:this,e)}}),p(p.S+p.F*!(R&&r(101)(function(e){P.all(e)['catch'](O)})),b,{all:function(e){var t=this,r=I(t),a=r.resolve,o=r.reject,n=g(function(){var r=[],n=0,l=1;_(e,!1,function(e){var s=n++,u=!1;r.push(void 0),l++,t.resolve(e).then(function(e){u||(u=!0,r[s]=e,--l||a(r))},o)}),--l||a(r)});return n.e&&o(n.v),r.promise},race:function(e){var t=this,r=I(t),a=r.reject,o=g(function(){_(e,!1,function(e){t.resolve(e).then(r.resolve,a)})});return o.e&&a(o.v),r.promise}})},function(e){e.exports=function(e,t,r,a){if(!(e instanceof t)||a!==void 0&&a in e)throw TypeError(r+': incorrect invocation!');return e}},function(e,t,r){var a=r(14),o=r(95),n=r(96),l=r(4),s=r(46),u=r(51),i={},d={},t=e.exports=function(e,t,r,p,c){var y,_,m,E,h=c?function(){return e}:u(e),v=a(r,p,t?2:1),f=0;if('function'!=typeof h)throw TypeError(e+' is not iterable!');if(n(h)){for(y=s(e.length);y>f;f++)if(E=t?v(l(_=e[f])[0],_[1]):v(e[f]),E===i||E===d)return E;}else for(m=h.call(e);!(_=m.next()).done;)if(E=o(m,v,_.value,t),E===i||E===d)return E};t.BREAK=i,t.RETURN=d},function(e,t,r){var a=r(4);e.exports=function(t,e,r,o){try{return o?e(a(r)[0],r[1]):e(r)}catch(r){var n=t['return'];throw void 0!==n&&a(n.call(t)),r}}},function(e,t,r){var a=r(17),o=r(2)('iterator'),n=Array.prototype;e.exports=function(e){return e!==void 0&&(a.Array===e||n[o]===e)}},function(e){e.exports=function(e,t,r){var a=r===void 0;switch(t.length){case 0:return a?e():e.call(r);case 1:return a?e(t[0]):e.call(r,t[0]);case 2:return a?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return a?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return a?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3]);}return e.apply(r,t)}},function(e,t,r){var a=r(1),o=r(56).set,n=a.MutationObserver||a.WebKitMutationObserver,l=a.process,s=a.Promise,u='process'==r(16)(l);e.exports=function(){var t,r,i,e=function(){var e,a;for(u&&(e=l.domain)&&e.exit();t;){a=t.fn,t=t.next;try{a()}catch(a){throw t?i():r=void 0,a}}r=void 0,e&&e.enter()};if(u)i=function(){l.nextTick(e)};else if(n){var d=!0,p=document.createTextNode('');new n(e).observe(p,{characterData:!0}),i=function(){p.data=d=!d}}else if(s&&s.resolve){var c=s.resolve();i=function(){c.then(e)}}else i=function(){o.call(a,e)};return function(e){var a={fn:e,next:void 0};r&&(r.next=a),t||(t=a,i()),r=a}}},function(e,t,r){var a=r(7);e.exports=function(e,t,r){for(var o in t)r&&e[o]?e[o]=t[o]:a(e,o,t[o]);return e}},function(e,t,r){'use strict';var a=r(1),o=r(0),n=r(5),l=r(6),s=r(2)('species');e.exports=function(e){var t='function'==typeof o[e]?o[e]:a[e];l&&t&&!t[s]&&n.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,r){var a=r(2)('iterator'),o=!1;try{var n=[7][a]();n['return']=function(){o=!0},Array.from(n,function(){throw 2})}catch(t){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var n=[7],l=n[a]();l.next=function(){return{done:r=!0}},n[a]=function(){return l},e(n)}catch(t){}return r}},function(e,t,r){'use strict';var a=r(3),o=r(0),n=r(1),l=r(55),s=r(58);a(a.P+a.R,'Promise',{finally:function(t){var r=l(this,o.Promise||n.Promise),e='function'==typeof t;return this.then(e?function(e){return s(r,t()).then(function(){return e})}:t,e?function(a){return s(r,t()).then(function(){throw a})}:t)}})},function(e,t,r){'use strict';var a=r(3),o=r(39),n=r(57);a(a.S,'Promise',{try:function(e){var t=o.f(this),r=n(e);return(r.e?t.reject:t.resolve)(r.v),t.promise}})},function(e,t,r){r(105),e.exports=r(0).Object.getPrototypeOf},function(e,t,r){var a=r(22),o=r(50);r(53)('getPrototypeOf',function(){return function(e){return o(a(e))}})},function(e,t,r){e.exports={default:r(107),__esModule:!0}},function(e,t,r){r(37),r(35),e.exports=r(40).f('iterator')},function(e,t,r){e.exports={default:r(109),__esModule:!0}},function(e,t,r){r(110),r(54),r(115),r(116),e.exports=r(0).Symbol},function(e,t,r){'use strict';var a=r(1),o=r(9),n=r(6),l=r(3),s=r(48),u=r(111).KEY,i=r(10),d=r(32),p=r(24),c=r(20),y=r(2),f=r(40),_=r(41),m=r(112),E=r(113),h=r(4),v=r(11),g=r(28),T=r(19),b=r(36),x=r(114),P=r(63),S=r(5),O=r(15),I=P.f,R=S.f,A=x.f,L=a.Symbol,M=a.JSON,D=M&&M.stringify,N='prototype',w=y('_hidden'),Y=y('toPrimitive'),B={}.propertyIsEnumerable,C=d('symbol-registry'),q=d('symbols'),F=d('op-symbols'),G=Object[N],H='function'==typeof L,U=a.QObject,V=!U||!U[N]||!U[N].findChild,K=n&&i(function(){return 7!=b(R({},'a',{get:function(){return R(this,'a',{value:7}).a}})).a})?function(e,t,r){var a=I(G,t);a&&delete G[t],R(e,t,r),a&&e!==G&&R(G,t,a)}:R,W=function(e){var t=q[e]=b(L[N]);return t._k=e,t},z=H&&'symbol'==typeof L.iterator?function(e){return'symbol'==typeof e}:function(e){return e instanceof L},X=function(e,t,r){return e===G&&X(F,t,r),h(e),t=g(t,!0),h(r),o(q,t)?(r.enumerable?(o(e,w)&&e[w][t]&&(e[w][t]=!1),r=b(r,{enumerable:T(0,!1)})):(!o(e,w)&&R(e,w,T(1,{})),e[w][t]=!0),K(e,t,r)):R(e,t,r)},Q=function(e,t){h(e);for(var r,a=m(t=v(t)),o=0,n=a.length;n>o;)X(e,r=a[o++],t[r]);return e},J=function(e){var t=B.call(this,e=g(e,!0));return this===G&&o(q,e)&&!o(F,e)?!1:t||!o(this,e)||!o(q,e)||o(this,w)&&this[w][e]?t:!0},$=function(e,t){if(e=v(e),t=g(t,!0),e!==G||!o(q,t)||o(F,t)){var r=I(e,t);return r&&o(q,t)&&!(o(e,w)&&e[w][t])&&(r.enumerable=!0),r}},Z=function(e){for(var t,r=A(v(e)),a=[],n=0;r.length>n;)o(q,t=r[n++])||t==w||t==u||a.push(t);return a},ee=function(e){for(var t,r=e===G,a=A(r?F:v(e)),n=[],l=0;a.length>l;)o(q,t=a[l++])&&(!r||o(G,t))&&n.push(q[t]);return n};H||(L=function(){if(this instanceof L)throw TypeError('Symbol is not a constructor!');var e=c(0<arguments.length?arguments[0]:void 0),t=function(r){this===G&&t.call(F,r),o(this,w)&&o(this[w],e)&&(this[w][e]=!1),K(this,e,T(1,r))};return n&&V&&K(G,e,{configurable:!0,set:t}),W(e)},s(L[N],'toString',function(){return this._k}),P.f=$,S.f=X,r(62).f=x.f=Z,r(21).f=J,r(34).f=ee,n&&!r(23)&&s(G,'propertyIsEnumerable',J,!0),f.f=function(e){return W(y(e))}),l(l.G+l.W+l.F*!H,{Symbol:L});for(var te=['hasInstance','isConcatSpreadable','iterator','match','replace','search','species','split','toPrimitive','toStringTag','unscopables'],re=0;te.length>re;)y(te[re++]);for(var j=O(y.store),ae=0;j.length>ae;)_(j[ae++]);l(l.S+l.F*!H,'Symbol',{for:function(e){return o(C,e+='')?C[e]:C[e]=L(e)},keyFor:function(e){if(!z(e))throw TypeError(e+' is not a symbol!');for(var t in C)if(C[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),l(l.S+l.F*!H,'Object',{create:function(e,t){return t===void 0?b(e):Q(b(e),t)},defineProperty:X,defineProperties:Q,getOwnPropertyDescriptor:$,getOwnPropertyNames:Z,getOwnPropertySymbols:ee}),M&&l(l.S+l.F*(!H||i(function(){var e=L();return'[null]'!=D([e])||'{}'!=D({a:e})||'{}'!=D(Object(e))})),'JSON',{stringify:function(e){if(!(void 0===e||z(e))){for(var t,r,a=[e],o=1;arguments.length>o;)a.push(arguments[o++]);return t=a[1],'function'==typeof t&&(r=t),(r||!E(t))&&(t=function(e,t){if(r&&(t=r.call(this,e,t)),!z(t))return t}),a[1]=t,D.apply(M,a)}}}),L[N][Y]||r(7)(L[N],Y,L[N].valueOf),p(L,'Symbol'),p(Math,'Math',!0),p(a.JSON,'JSON',!0)},function(e,t,r){var a=r(20)('meta'),o=r(8),n=r(9),l=r(5).f,s=0,u=Object.isExtensible||function(){return!0},i=!r(10)(function(){return u(Object.preventExtensions({}))}),d=function(e){l(e,a,{value:{i:'O'+ ++s,w:{}}})},p=e.exports={KEY:a,NEED:!1,fastKey:function(e,t){if(!o(e))return'symbol'==typeof e?e:('string'==typeof e?'S':'P')+e;if(!n(e,a)){if(!u(e))return'F';if(!t)return'E';d(e)}return e[a].i},getWeak:function(e,t){if(!n(e,a)){if(!u(e))return!0;if(!t)return!1;d(e)}return e[a].w},onFreeze:function(e){return i&&p.NEED&&u(e)&&!n(e,a)&&d(e),e}}},function(e,t,r){var a=r(15),o=r(34),n=r(21);e.exports=function(e){var t=a(e),r=o.f;if(r)for(var l,s=r(e),u=n.f,d=0;s.length>d;)u.call(e,l=s[d++])&&t.push(l);return t}},function(e,t,r){var a=r(16);e.exports=Array.isArray||function(e){return'Array'==a(e)}},function(e,t,r){var a=r(11),o=r(62).f,n={}.toString,l='object'==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return o(e)}catch(t){return l.slice()}};e.exports.f=function(e){return l&&'[object Window]'==n.call(e)?s(e):o(a(e))}},function(e,t,r){r(41)('asyncIterator')},function(e,t,r){r(41)('observable')},function(e,t,r){e.exports={default:r(118),__esModule:!0}},function(e,t,r){r(119),e.exports=r(0).Object.setPrototypeOf},function(e,t,r){var a=r(3);a(a.S,'Object',{setPrototypeOf:r(120).set})},function(e,t,r){var a=r(8),o=r(4),n=function(e,t){if(o(e),!a(t)&&null!==t)throw TypeError(t+': can\'t set as prototype!')};e.exports={set:Object.setPrototypeOf||('__proto__'in{}?function(e,t,a){try{a=r(14)(Function.call,r(63).f(Object.prototype,'__proto__').set,2),a(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,r){return n(e,r),t?e.__proto__=r:a(e,r),e}}({},!1):void 0),check:n}},function(e,t,r){e.exports={default:r(122),__esModule:!0}},function(e,t,r){r(123);var a=r(0).Object;e.exports=function(e,t){return a.create(e,t)}},function(e,t,r){var a=r(3);a(a.S,'Object',{create:r(36)})},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var o=r(38),n=a(o),l=r(12),s=a(l),u=r(13),i=a(u),d=function(){function e(){(0,s.default)(this,e)}return(0,i.default)(e,[{key:'constant',value:function(){return{ASC:'ASC',DESK:'DESK',TYPE_INT:'INT',TYPE_INTEGER:'INTEGER',TYPE_TINYINT:'TINYINT',TYPE_SMALLINT:'SMALLINT',TYPE_MEDIUMINT:'MEDIUMINT',TYPE_BIGINT:'BIGINT',TYPE_TEXT:'TEXT',TYPE_CHAR:'CHAR',TYPE_VARCHAR:'VARCHAR',TYPE_CHARACTER:'CHARACTER',TYPE_REAL:'REAL',TYPE_DOUBLE_FLOAT:'FLOAT',TYPE_DOUBLE:'DOUBLE',TYPE_DOUBLE_PRECISION:'DOUBLE PRECISION',TYPE_DATETIME:'DATETIME',TYPE_DATE:'DATE',TYPE_BOOLEAN:'BOOLEAN',TYPE_NUMERIC:'NUMERIC',TYPE_DECIMAL:'DECIMAL'}}},{key:'createTable',value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},r=this,a=r.constant(),o=[];return(0,n.default)(t).map(function(e){var r=t[e],n=e+' ';r.auto=r.pk&&void 0===r.auto||r.auto,r.pk&&r.auto&&(r.type=a.TYPE_INTEGER),r.type&&(n+=r.type+' '),r.pk&&(n+='PRIMARY KEY '+(r.auto?'AUTOINCREMENT':'')+' '),r.require&&(n+='NOT NULL '),r.unique&&(n+='UNIQUE '),o.push(n)}),'CREATE TABLE '+e+'('+o.join(',')+');'}},{key:'select',value:function(e,t,r,a,o){var n='SELECT '+t+' FROM '+e+' ';return r&&(n+='WHERE '+r+' '),a&&(n+='LIMIT '+a+' '),o&&(n+='LIMIT '+o+' '),n+=';',n}},{key:'escapeFieldValue',value:function(e){return'string'==typeof e?'"'+e.replace(/\"/g,'"')+'"':null===e?'NULL':e}},{key:'insertValues',value:function(e,t){var r=this,a=function(e){return'('+t.map(function(t,a){return r.escapeFieldValue(e[a]||null)}).join(',')+')'};return Array.isArray(e[0])?e.map(a).join(','):a(e)}}]),e}();t.default=d},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var o=r(38),n=a(o),l=r(25),s=a(l),u=r(26),i=a(u),d=r(59),p=a(d),c=r(12),y=a(c),f=r(13),_=a(f),m=r(60),E=a(m),h=r(64),v=a(h),g=r(126),T=a(g),b=r(42),x=a(b),k=function(e){function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};(0,y.default)(this,t);var r=(0,E.default)(this,(t.__proto__||(0,p.default)(t)).call(this,e)),a=r;return a._db=null,a._isEmpty=null,a._query=new T.default,a._dbParams={name:'web_db',version:1},a._dbParams=(0,i.default)({},a._dbParams,e),r}return(0,v.default)(t,e),(0,_.default)(t,[{key:'isOpen',value:function(){return null!==this._db}},{key:'drop',value:function(){var e=this;return new s.default(function(t,r){var a=window.indexedDB.deleteDatabase(e._dbParams.name);a.onsuccess=t,a.onerror=function(){return r('Couldn\'t delete database')},a.onblocked=function(){return t}})}},{key:'_modeRewrite',value:function(){return'readwrite'}},{key:'init',value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=this;return new s.default(function(r,a){var o=e,l=window.indexedDB.open(o._dbParams.name,o._dbParams.version);l.onerror=a,l.onupgradeneeded=function(e){var r=e.target.result;(0,n.default)(t||{}).forEach(function(e){o._createTable(r,e,t[e])})},l.onsuccess=function(e){o._db=e.target.result,o._isEmpty=!!!o._db.objectStoreNames.length,o._db.onerror=a,r()}})}},{key:'_createTable',value:function(e,t,r){var a,o=this,l=[];(0,n.default)(r).map(function(o){var n=r[o];n.auto=n.pk&&void 0===n.auto||n.auto,n.pk?a=e.createObjectStore(t,{keyPath:o,autoIncrement:!0}):n.require&&(l[o+'_inx']={field:o}),n.unique&&(l[o+'_uni']={field:o,index:{unique:!0}})}),a||(a=e.createObjectStore(t)),(0,n.default)(l).map(function(e){var t=l[e];a.createIndex(e,t.field,t.index)})}},{key:'insert',value:function(e,t,r){var a=this;return new s.default(function(o,n){if(!r.length)return o();var l=a._query.insertValues(t,r),s=a._db.transaction(e,a._modeRewrite()),u=s.objectStore(e);Array.isArray(l)?l.forEach(function(e){return u.put(e)}):u.put(l),s.oncomplete=o,s.onerror=n})}},{key:'isEmpty',value:function(){var e=this;return new s.default(function(t){return t(e._isEmpty)})}},{key:'getAll',value:function(e){var t=this;return new s.default(function(r,a){var o=t._db.transaction(e),n=o.objectStore(e),l=n.getAll();l.onerror=a,l.onsuccess=function(){return r(l.result)}})}},{key:'getByPk',value:function(e,t){var r=this;return new s.default(function(a,o){var n=r._db.transaction(e),l=n.objectStore(e),s=l.get(t);s.onerror=o,s.onsuccess=function(){return a(s.result)}})}},{key:'getByRequire',value:function(e,t,r){var a=this;return new s.default(function(o,n){var l=a._db.transaction(e),s=l.objectStore(e),u=s.index(t+'_inx'),i=u.get(r);i.onerror=n,i.onsuccess=function(){return o(i.result)}})}},{key:'upInsert',value:function(e,t){var r=this;return new s.default(function(a,o){var n=r._db.transaction(e,r._modeRewrite()),l=n.objectStore(e),s=l.put(t);s.onerror=o,s.onsuccess=function(){return a(s.result)}})}},{key:'updateByPk',value:function(e,t,r){var a=this;return new s.default(function(o,n){a.getByPk(e,t).then(function(t){return a.upInsert(e,(0,i.default)({},t,r))}).then(o).catch(n)})}},{key:'removeAll',value:function(e){var t=this;return new s.default(function(r,a){var o=t._db.transaction(e,t._modeRewrite()),n=o.objectStore(e),l=n.clear();l.onerror=a,l.onsuccess=function(){return r(l.result)}})}},{key:'removeByPk',value:function(e,t){var r=this;return new s.default(function(a,o){var n=r._db.transaction(e,r._modeRewrite()),l=n.objectStore(e),s=l.delete(t);s.onerror=o,s.onsuccess=function(){return a(s.result)}})}},{key:'close',value:function(){this._db.close(),this._db=null}}]),t}(x.default);t.default=k},function(e,t,r){'use strict';function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,'__esModule',{value:!0});var o=r(12),n=a(o),l=r(13),s=a(l),u=function(){function e(){(0,n.default)(this,e)}return(0,s.default)(e,[{key:'insertValues',value:function(e,t){var r=function(t){var r={};return e.forEach(function(e,a){return r[e]=t[a]||null}),r};return Array.isArray(t[0])?t.map(r):r(t)}}]),e}();t.default=u}]);
//# sourceMappingURL=browser.database.min.js.map